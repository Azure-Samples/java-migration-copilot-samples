<server description="Open Liberty Server">
    <featureManager>
        <feature>localConnector-1.0</feature>
        <feature>servlet-4.0</feature>
        <feature>jsp-2.3</feature>
        <feature>transportSecurity-1.0</feature>
        <feature>jaxws-2.2</feature>
        <feature>jdbc-4.3</feature>
        <feature>jndi-1.0</feature>
        <feature>javaMail-1.6</feature>
        <feature>appSecurity-3.0</feature>
        <feature>bells-1.0</feature>
    </featureManager>

    <keyStore id="defaultKeyStore" location="${server.config.dir}/resources/security/key.jks" password="changeit"/>
    <httpEndpoint id="defaultHttpEndpoint" host="*" httpPort="9080" httpsPort="9443" sslRef="defaultSSLConfig"/>
    <ssl id="defaultSSLConfig" keyStoreRef="defaultKeyStore"/>

    <httpSession cloneId="${env.CLONE_ID}" cookieHttpOnly="true" cookieName="${env.SESSION_COOKIE_NAME}" cookiePath="/" cookieSecure="true" idReuse="true" invalidationTimeout="${env.SESSION_TIMEOUT}" maxInMemorySessionCount="10000" securityIntegrationEnabled="false"/>

    <!-- Enable logging -->
    <logging maxFileSize="100" maxFiles="10"  traceSpecification=""/>

    <!-- Mail Session for JavaMail -->
    <mailSession id="StudentMailSession" jndiName="mail/StudentMailSession" description="Mail session for sending emails through SendGrid"
        host="localhost"
        from="noreply@example.com"
        port="25"
        transportProtocol="smtp"
        mailSessionID="SendGridMailSession" password="changeit" user="user"/>

    <applicationMonitor updateTrigger="mbean"/>
    

    <library id="mysql-lib">
        <fileset dir="D:\lib\mysql" includes="*.jar"/>
    </library>
    <dataSource id="StudentDB" jndiName="jdbc/StudentDB">
        <jdbcDriver libraryRef="mysql-lib"/>
        <properties URL="jdbcurl"
            user="test"
            password="test"/>
        <className>com.mysql.cj.jdbc.Driver</className>
    </dataSource>

    <webApplication location="OpenLibertyApp.war" contextRoot="/" applicationName="OpenLibertyApp"/>
</server>
